<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <title>Form-Validation</title>
</head>
<body>
    <h1 class="text-center mt-2">Form-validation</h1>
   <div class="alert" id="alert" style="background-color: orange; display: none;">
       <strong id="mgs" style="margin-left: 39rem; font-size: 20px; font-weight: 600; color: lightgreen;">Form Submited Sucessfully <span style="margin-right: 34rem; float: right;">X</span></strong>
   </div>
<div class="container">
    <div class="mb-3">
        <!-- add is-invalid class dynamically -->

        <label for="exampleFormControlInput1" class="form-label">Name: </label>
        <input type="text" class="form-control " id="name" placeholder="Enter your name"> 
        <span class="invalid-feedback " style="color: red;">* name must be greater than 3 and less than 10 </span>
      </div>
    <div class="mb-3">
        <label for="exampleFormControlInput1" class="form-label">Phone: </label>
        <input type="number" class="form-control" id="phone" placeholder="enter phone">
        <span class="invalid-feedback " style="color: red;">*Phone must be & must be 10 digits</span>
      </div>
    <div class="mb-3">
        <label for="exampleFormControlInput1" class="form-label">City: </label>
        <input type="text" class="form-control" id="City" placeholder="Enter city">
        <span class="invalid-feedback " style="color: red;">* Enter a valid city name </span>
      </div>
    <div class="mb-3">
        <label for="exampleFormControlInput1" class="form-label">Email: </label>
        <input type="email" class="form-control" id="email" placeholder="Enter Email">
        <span class="invalid-feedback " style="color: red;">* entered email  must be Valid email address  </span>
      </div>
      <div class="mb-3">
        <label for="exampleFormControlTextarea1" class="form-label">Example textarea</label>
        <textarea class="form-control" id="exampleFormControlTextarea1" rows="3"></textarea>
      </div>
      <div class="con mt-3">
        <button type="submit" id="sub" class="btn btn-secondary">Submit</button>
      </div>
</div>
</body>
</html>

<script>
const nameval = document.getElementById('name');
const phoneval = document.getElementById('phone');
const cityval = document.getElementById('City');
const emailval = document.getElementById('email');
let Submit = document.getElementById('sub');
let suces = document.getElementById('alert');
let flagN = false;
let flagE = false;
let flagC = false;
let flagP = false;
// console.log(nameval,emailval,cityval,phoneval)

// nAME VALIDATION 
nameval.addEventListener('blur',()=>{
// regex says value must start with ato z and end with a to z and only 10 cahrcter is allowed
let regex = /^([a-zA-Z])([0-9a-zA-Z]){3,10}$/;
let val = nameval.value;
if(regex.test(val)){
    // console.log("It matched ");
    nameval.classList.remove("is-invalid");
      flagN = true;
}
else{
    nameval.classList.add("is-invalid");
     flagN = false;
}
});


// pHONE VALIDATION 
phoneval.addEventListener('blur',()=>{
console.log("phone is blured");
let regex = /^([0-9]){10}$/;
let val = phoneval.value;
if(regex.test(val)){
    // console.log("It matched ");
    phoneval.classList.remove("is-invalid");
    flagP = true;
}
else{
    phoneval.classList.add("is-invalid");
    flagP = false;
}

});

// cITY VALIDATION
cityval.addEventListener('blur',()=>{
let regex = /^([a-zA-Z])([a-zA-Z]){3,10}$/;
let val = cityval.value;
if(regex.test(val)){
    // console.log("It matched ");
    cityval.classList.remove("is-invalid");
    flagC = true; 
}
else{
    cityval.classList.add("is-invalid");
    flagC = false;
}

});

// eMAIL VALIDATION 
emailval.addEventListener('blur',()=>{
console.log("email is blured");
let regex = /^([0-9_/.-/a-zA-Z]+)@([0-9_/.-/a-zA-Z]+)([a-zA-Z]){2,7}$/;
let val = emailval.value;
if(regex.test(val)){
    // console.log("It matched ");
    emailval.classList.remove("is-invalid");
    flagE = true;
}
else{
    emailval.classList.add("is-invalid");
    flagE = false;
}
});

Submit.addEventListener('click',()=>{

if(flagC && flagE && flagN && flagP){
    console.log(flagC,flagE,flagN,flagP)
    
    suces.style.display='block';
}
});

</script>
